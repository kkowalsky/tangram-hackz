import:
    - https://tangrams.github.io/blocks/space/tile-full.yaml
sources:
    mapzen:
        type: TopoJSON
        url:  https://tile.mapzen.com/mapzen/vector/v1/all/{z}/{x}/{y}.topojson?api_key=vector-tiles-VyYjZGS
        max_zoom: 16
textures:
    waves:
        url: 'img/seigaiha_blue.png'
layers:
    water:
        data: { source: mapzen }
        filter:
            not:
                - boundary: true
                - kind: playa
        draw:
            polygons:
                style: waves
                order: 100
                color: gray
    earth:
        data: { source: mapzen }
        filter: { not: { boundary: true } }
        draw:
          polygons:
            color: '#E8DEC6'
styles:
    roads:
        base: lines
        lighting: false
    waves:
        base: polygons
        mix: [space-tile]
        texcoords: true
        shaders:
            uniforms:
                u_pattern: waves
            blocks:
                color: |
                    vec2 st = getTileCoords();
                    color = texture2D(u_pattern,st);
    dash:
        base: lines
        dash: [1, 2]
